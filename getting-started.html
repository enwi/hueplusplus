<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hueplusplus: Getting started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">hueplusplus<span id="projectnumber">&#160;1.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Getting started</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1"></a>
Creating the Hue bridge</h1>
<p>To start searching for a Hue Bridge you will need to choose an IHttpHandler and create one. The options are a <a class="el" href="classhueplusplus_1_1_win_http_handler.html">WinHttpHandler</a> (for windows) or a <a class="el" href="classhueplusplus_1_1_lin_http_handler.html">LinHttpHandler</a> (for linux or linux-like).</p>
<p>Then create a <a class="el" href="classhueplusplus_1_1_bridge_finder.html">BridgeFinder</a> object with the handler. The handler is needed, because it tells the finder which functions to use to communicate with a bridge or your local network. After that you can call <a class="el" href="classhueplusplus_1_1_bridge_finder.html#a86cce17f26187a97547a44fab8c920a1">findBridges()</a>, which will return a vector containing the ip and mac address of all found Bridges. </p><div class="fragment"><div class="line">    <span class="comment">// For windows use std::make_shared&lt;hueplusplus::WinHttpHandler&gt;();</span></div>
<div class="line">    <span class="keyword">auto</span> handler = std::make_shared&lt;hueplusplus::LinHttpHandler&gt;();</div>
<div class="line">    <a class="code hl_class" href="classhueplusplus_1_1_bridge_finder.html">hueplusplus::BridgeFinder</a> finder(handler);</div>
<div class="line">    std::vector&lt;hueplusplus::BridgeFinder::BridgeIdentification&gt; bridges = finder.findBridges();</div>
<div class="line">    <span class="keywordflow">if</span> (bridges.empty())</div>
<div class="line">    {</div>
<div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;No bridges found\n&quot;</span>;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="ttc" id="aclasshueplusplus_1_1_bridge_finder_html"><div class="ttname"><a href="classhueplusplus_1_1_bridge_finder.html">hueplusplus::BridgeFinder</a></div><div class="ttdef"><b>Definition</b> Bridge.h:62</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2"></a>
Authenticate Bridges</h1>
<p>If you have found the Bridge you were looking for, you can then move on with the authentication process. To get a new username from the Bridge (for now) you simply call <a class="el" href="classhueplusplus_1_1_bridge_finder.html#a9ff121c380ceaceaf5da2b7a772e5c4b">getBridge(bridges[&lt;index&gt;])</a>, where index is your preferred Bridge from the part Searching for Bridges. This requires the user to press the link button. </p><div class="fragment"><div class="line">    <a class="code hl_class" href="classhueplusplus_1_1_bridge.html">hueplusplus::Bridge</a> bridge = finder.getBridge(bridges[0]);</div>
<div class="ttc" id="aclasshueplusplus_1_1_bridge_html"><div class="ttname"><a href="classhueplusplus_1_1_bridge.html">hueplusplus::Bridge</a></div><div class="ttdoc">Bridge class for a bridge.</div><div class="ttdef"><b>Definition</b> Bridge.h:139</div></div>
</div><!-- fragment --><p>If you on the other hand already have a username you can add your bridge like so </p><div class="fragment"><div class="line">    finder.addUsername(bridges[0].mac, <span class="stringliteral">&quot;&lt;username&gt;&quot;</span>);</div>
<div class="line">    <a class="code hl_class" href="classhueplusplus_1_1_bridge.html">hueplusplus::Bridge</a> bridge = finder.getBridge(bridges[0]);</div>
</div><!-- fragment --><p>If you do not want to use the BridgeFinder or you already know the ip and username of your bridge you have the option to create your own Hue object. Here you will need to provide the ip address, the port number, a username and an HttpHandler </p><div class="fragment"><div class="line">    <span class="comment">// For windows use std::make_shared&lt;hueplusplus::WinHttpHandler&gt;();</span></div>
<div class="line">    <span class="keyword">auto</span> handler = std::make_shared&lt;hueplusplus::LinHttpHandler&gt;();</div>
<div class="line">    <a class="code hl_class" href="classhueplusplus_1_1_bridge.html">hueplusplus::Bridge</a> bridge(<span class="stringliteral">&quot;192.168.2.102&quot;</span>, 80, <span class="stringliteral">&quot;&lt;username&gt;&quot;</span>, handler);</div>
</div><!-- fragment --><p>At this point you may want to decide whether to use a <a class="el" href="shared-state.html">shared state</a> cache model or keep the default settings.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Controlling lights</h2>
<div class="fragment"><div class="line">    <a class="code hl_class" href="classhueplusplus_1_1_light.html">hueplusplus::Light</a> light = bridge.<a class="code hl_function" href="classhueplusplus_1_1_bridge.html#a7bd607246130312915a3b07116c72301">lights</a>().<a class="code hl_function" href="classhueplusplus_1_1_resource_list.html#a7bcf2ed48e70e9f11a4b6bdc24e0e611">get</a>(1);</div>
<div class="line">    light.<a class="code hl_function" href="classhueplusplus_1_1_light.html#aab9db2db84ad55e19d7b46c77807973d">on</a>();</div>
<div class="line">    light.<a class="code hl_function" href="classhueplusplus_1_1_light.html#a5f4699729652474534d5783c9a27ed94">off</a>();</div>
<div class="ttc" id="aclasshueplusplus_1_1_bridge_html_a7bd607246130312915a3b07116c72301"><div class="ttname"><a href="classhueplusplus_1_1_bridge.html#a7bd607246130312915a3b07116c72301">hueplusplus::Bridge::lights</a></div><div class="ttdeci">LightList &amp; lights()</div><div class="ttdoc">Provides access to the Lights on the bridge.</div><div class="ttdef"><b>Definition</b> Bridge.cpp:340</div></div>
<div class="ttc" id="aclasshueplusplus_1_1_light_html"><div class="ttname"><a href="classhueplusplus_1_1_light.html">hueplusplus::Light</a></div><div class="ttdoc">Class for Hue Light fixtures.</div><div class="ttdef"><b>Definition</b> Light.h:61</div></div>
<div class="ttc" id="aclasshueplusplus_1_1_light_html_a5f4699729652474534d5783c9a27ed94"><div class="ttname"><a href="classhueplusplus_1_1_light.html#a5f4699729652474534d5783c9a27ed94">hueplusplus::Light::off</a></div><div class="ttdeci">virtual bool off(uint8_t transition=4)</div><div class="ttdoc">Function that turns the light off.</div><div class="ttdef"><b>Definition</b> Light.cpp:39</div></div>
<div class="ttc" id="aclasshueplusplus_1_1_light_html_aab9db2db84ad55e19d7b46c77807973d"><div class="ttname"><a href="classhueplusplus_1_1_light.html#aab9db2db84ad55e19d7b46c77807973d">hueplusplus::Light::on</a></div><div class="ttdeci">virtual bool on(uint8_t transition=4)</div><div class="ttdoc">Function that turns the light on.</div><div class="ttdef"><b>Definition</b> Light.cpp:34</div></div>
<div class="ttc" id="aclasshueplusplus_1_1_resource_list_html_a7bcf2ed48e70e9f11a4b6bdc24e0e611"><div class="ttname"><a href="classhueplusplus_1_1_resource_list.html#a7bcf2ed48e70e9f11a4b6bdc24e0e611">hueplusplus::ResourceList::get</a></div><div class="ttdeci">Resource get(const IdType &amp;id)</div><div class="ttdoc">Get resource specified by id.</div><div class="ttdef"><b>Definition</b> ResourceList.h:126</div></div>
</div><!-- fragment --><p>Use <a class="el" href="transactions.html">transactions</a> to change multiple properties at once.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Controlling groups</h2>
<div class="fragment"><div class="line">    <a class="code hl_class" href="classhueplusplus_1_1_group.html">hueplusplus::Group</a> group = bridge.<a class="code hl_function" href="classhueplusplus_1_1_bridge.html#a86fa3bec3ae4729df0cf6305ce49388c">groups</a>().<a class="code hl_function" href="classhueplusplus_1_1_group_resource_list.html#a06bda9ca6016b48eb6a4a5f86a67c76d">get</a>(1);</div>
<div class="line">    group.<a class="code hl_function" href="classhueplusplus_1_1_group.html#acba209f24f41a55af7fc7669150377a9">setOn</a>(<span class="keyword">true</span>);</div>
<div class="ttc" id="aclasshueplusplus_1_1_bridge_html_a86fa3bec3ae4729df0cf6305ce49388c"><div class="ttname"><a href="classhueplusplus_1_1_bridge.html#a86fa3bec3ae4729df0cf6305ce49388c">hueplusplus::Bridge::groups</a></div><div class="ttdeci">GroupList &amp; groups()</div><div class="ttdoc">Provides access to the Groups on the bridge.</div><div class="ttdef"><b>Definition</b> Bridge.cpp:350</div></div>
<div class="ttc" id="aclasshueplusplus_1_1_group_html"><div class="ttname"><a href="classhueplusplus_1_1_group.html">hueplusplus::Group</a></div><div class="ttdoc">Class for Groups of lights.</div><div class="ttdef"><b>Definition</b> Group.h:42</div></div>
<div class="ttc" id="aclasshueplusplus_1_1_group_html_acba209f24f41a55af7fc7669150377a9"><div class="ttname"><a href="classhueplusplus_1_1_group.html#acba209f24f41a55af7fc7669150377a9">hueplusplus::Group::setOn</a></div><div class="ttdeci">void setOn(bool on, uint8_t transition=4)</div><div class="ttdoc">Convenience function to turn lights on.</div><div class="ttdef"><b>Definition</b> Group.cpp:169</div></div>
<div class="ttc" id="aclasshueplusplus_1_1_group_resource_list_html_a06bda9ca6016b48eb6a4a5f86a67c76d"><div class="ttname"><a href="classhueplusplus_1_1_group_resource_list.html#a06bda9ca6016b48eb6a4a5f86a67c76d">hueplusplus::GroupResourceList::get</a></div><div class="ttdeci">Resource get(const int &amp;id)</div><div class="ttdoc">Get group, specially handles group 0.</div><div class="ttdef"><b>Definition</b> ResourceList.h:339</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5"></a>
More information</h1>
<ul>
<li><a class="el" href="transactions.html">Transactions</a></li>
<li><a class="el" href="shared-state.html">Shared state cache</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
